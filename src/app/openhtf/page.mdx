import { defaultKeywords, defaultOpenGraph } from '../metadata'

export const metadata = {
  title: 'OpenHTF Integration',
  description:
    'Integrate your OpenHTF scripts with TofuPilot in a single line to automate test data collection and analytics.',
  keywords: [
    ...defaultKeywords,
    'OpenHTF',
    'TofuPilot integration',
    'automated test data',
    'hardware testing',
    'OpenHTF analytics',
  ],
  openGraph: {
    ...defaultOpenGraph,
    title:
      'OpenHTF Integration - Automated Test Data Collection & Analytics | TofuPilot Documentation',
    description:
      'Learn how to seamlessly integrate OpenHTF with TofuPilot to capture test phases, measurements, and attachments in real time.',
    images: [
      {
        url: 'https://tofupilot.com/docs/openhtf-header.png',
        width: 800,
        height: 600,
        alt: 'Run page showing the different phases performed for a Unit Under Test (UUT) in OpenHTF with TofuPilot.',
      },
    ],
  },
}

# OpenHTF

Integrate your OpenHTF scripts with TofuPilot in a single line. {{ className: 'lead' }}

<Image src="/openhtf-header.png" alt="" />

## Overview

[OpenHTF](https://openhtf.com) is an open-source Python framework for automating hardware tests. It makes writing and running tests easier with a modular design. Built at Google, it's now used by teams around the world.

By adding a **single line** to your OpenHTF script, TofuPilot's open-source Python client automatically creates a run on TofuPilot, capturing the test phases, measurements, and attachments, and storing the original OpenHTF JSON log for traceability.

## Installation

1. [Create a TofuPilot account](https://tofupilot.app/auth/signup)

2. Install OpenHTF:

    <Code language="bash" code={`pip install openhtf six setuptools`} />

3. Install the TofuPilot open-source Python client:

    <Code language="bash" code={`pip install tofupilot`} />

4.  Generate and add your [API-KEY to your environment variables](/user-management#api-key).

5. Go to the application and create a Procedure by clicking on **Create Procedure** on the **Procedure** page. Copy the `procedure_id` (the first by default is "FVT1").

6. Add it to your test like this:

    <CodeGithub branch="main" path="docs_tofupilot/integrations/openhtf/main.py" />

Your OpenHTF reports are uploaded to your TofuPilot account using the Unit Under Test serial number `dut_id` (e.g., "PCB001"). You can view uploaded Runs on the **Runs** page.

<Image
  src="/openhtf-page-runs.png"
  alt="Run page showing the different phases performed for a Unit Under Test (UUT) in OpenHTF with TofuPilot."
/>

Discover more TofuPilot's OpenHTF integrations in the [Test Runs](/procedures).

## Supported features

We are continuously adding features to the integration. Below is a table of OpenHTF features currently supported by TofuPilot.

<table>
  <thead>
    <tr>
      <th>OpenHTF Features</th>
      <th></th>
      <th>TofuPilot Support</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Phases</strong></td>
      <td>Phases</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Sub-phases</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Skipped phases</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Logger</td>
      <td>✅</td>
    </tr>
    {/* <tr>
      <td />
      <td>Diagnosis</td>
      <td>⌛</td>
    </tr> */}
    <tr>
      <td></td>
      <td>Plugs</td>
      <td>✅</td>
    </tr>
    <tr>
      <td><strong>Measurements</strong></td>
      <td>Numeric measurement</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Boolean measurement</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>String measurement</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Arbitrary measurement</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Multiple measurements</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Dimensions</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Limits</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Units</td>
      <td>✅</td>
    </tr>
    <tr>
      <td><strong>Attachments</strong></td>
      <td>File</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>File from path</td>
      <td>✅</td>
    </tr>
    <tr>
      <td><strong>Output Callback</strong></td>
      <td>JSON Report</td>
      <td>✅</td>
    </tr>
    <tr>
      <td><strong>Operator UI</strong></td>
      <td>Test State Streaming</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>Phase Status</td>
      <td>✅</td>
    </tr>
    <tr>
      <td></td>
      <td>User Input Plug Support</td>
      <td>✅</td>
    </tr>
  </tbody>
</table>



## More documentation

Discover TofuPilot integrations in [Test Runs](/procedures) sections and OpenHTF features in our dedicated documentation maintained by our team.

<Button variant="text" arrow="right" href="https://openhtf.org">
  <>OpenHTF Documentation</>
</Button>
