import { defaultKeywords, defaultOpenGraph } from '../metadata'

export const metadata = {
  title: 'User Management',
  description: 'Manage user accounts, API keys, team invites, and access permissions in TofuPilot.',
  keywords: [
    ...defaultKeywords,
    'User Management',
    'Authentication',
    'Team Access',
    'API Keys',
    'Account Security',
  ],
  openGraph: {
    ...defaultOpenGraph,
    title: 'User Management - Manage Accounts & API Access | TofuPilot Documentation',
    description: 'Learn how to sign up, sign in, create API keys, invite team members, and manage user access in TofuPilot.',
    images: [
      {
        url: 'https://tofupilot.com/docs/user-management-header.png',
        width: 800,
        height: 600,
        alt: 'User Management in TofuPilot.',
      },
    ],
  },
}

# Account management

Create and manage your account for your team. {{ className: 'lead' }}

<Image src="/user-management-header.png" alt="User Management" />

Welcome to the TofuPilot documentation guide. Follow the instructions below to learn how to upload your first hardware test runs with TofuPilot.

## Sign Up

To get started with our platform, new users need to sign up. Follow the steps below:

1. Navigate to the [Sign Up](https://tofupilot.app/auth/signup) page.
2. Select your preferred login method from the available options:
   - Google
   - Microsoft
   - Email

<Image src="/user-sign-up.png" alt="User Sign Up" />

3. Validate your email address:

   - For social logins, authorize TofuPilot to access your account.
   - For email, enter the verification code sent to you (check your spam folder if you don't see it).

4. Enter your name to finalize account creation. If your email wasn't invited to an organization, create one by providing its name. The organization URL will be automatically generated.

<Image src="/user-sign-up-org.png" alt="User Sign Up Organization" />

## Sign in

Once users have signed up, they can sign in to access their account. Follow these steps to sign in:

1. Navigate to the Sign-In page.
2. Select the same login method you chose when signing up.
3. For social logins, authorize TofuPilot. For email, enter the verification code sent to you (check spam if needed).

<Image src="/user-sign-in.png" alt="User Sign In" />

## API key

TofuPilot platform is designed to receive test data directly from your test scripts or test stations. To authenticate API requests made from our available clients or REST API, we use secure API keys.

### Create your key

To create an API Key for your account, follow these steps:

1. Click on the user menu at the lower side of the navigation bar and select `My Profile`.
2. Navigate to the **API Key** section and click the button `Create`.
3. Use the provided options to view and copy the API key.

<Image src="/user-api-key.png" alt="User Sign In" />

<Note>Your API key provides the same permissions as your web account.</Note>

### Save environment variable

We strongly recommend saving your API key in a local `TOFUPILOT_API_KEY` environment variable to prevent exposure through version control or to external stakeholders.

1. **Unix-based Systems (macOS, Linux)**

   - Open a terminal.
   - Copy and paste the following commands:
      <Code
        language="bash"
        code={`echo 'export TOFUPILOT_API_KEY=<your_key_here>' >> ~/.zshenv
      source ~/.zshenv`}
      />

      <Note>If you use Bash, replace `~/.zshenv` with `~/.bash_profile`.</Note>
   - Optionally, verify the environment variable with this command:
      <Code
          language="bash"
          code={`echo $TOFUPILOT_API_KEY`}
        />

2. **Windows**
   - Open Command Prompt.
   - Copy and paste the following command:
      <Code
      language="bash"
      code={`setx TOFUPILOT_API_KEY "<Copy your API key here>"`}
      />

   - Optionally, verify the environment variable with this command:
      <Code
        language="bash"
        code={`echo %TOFUPILOT_API_KEY%`}
        />

### Regenerate your key

If you feel your key has been compromised, please regenerate it immediately using the `Regenerate` button in the **API Key** section of your **My Profile** page.

## Invite user

TofuPilot allows you to securely add multiple members to your organization. To invite a team member:

1. Click on the user menu at the lower side of the navigation bar and select `Settings`.
2. In the **Members** section, enter the email and name of the team member you want to invite.
3. The new team member will appear as `Invited` and will receive an email notification.

<Image src="/user-invite.png" alt="User Invited" />

The new team member will appear as `Invited` and can connect directly using their email address. They will also receive an email notification.

## Sign out

To sign out from your account, open the user menu on the lower side of the navigation bar and select the `Sign out` option.

<Image src="/user-sign-out.png" alt="User Sign Out" />

## Suspend user

If you want to suspend a user's access to their TofuPilot account without losing the data they uploaded:

1. Click on the user menu at the lower side of the navigation bar and select `Settings`.
2. In the **Members** section, find the specific user and select the `Suspend` option.

<Image src="/user-suspend.png" alt="User Suspended" />

The user will be prevented from accessing the TofuPilot platform again, but their data remains accessible to the other team members.
